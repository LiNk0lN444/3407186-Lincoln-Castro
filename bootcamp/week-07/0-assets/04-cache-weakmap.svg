<svg xmlns="http://www.w3.org/2000/svg" width="900" height="550" viewBox="0 0 900 550" role="img" aria-label="Patrón de caché con WeakMap">
  <rect width="900" height="550" fill="#0d1117" rx="12"/>
  <rect x="40" y="30" width="820" height="70" fill="#161b22" rx="10" stroke="#30363d"/>
  <text x="60" y="75" fill="#f5f5f5" font-family="'Inter','Segoe UI',sans-serif" font-size="28" font-weight="700">Patrón de caché con WeakMap</text>

  <g transform="translate(60,130)">
    <rect width="780" height="340" fill="#161b22" rx="10" stroke="#30363d"/>
    <text x="20" y="40" fill="#F0DB4F" font-family="'Inter','Segoe UI',sans-serif" font-size="20" font-weight="700">Implementación básica</text>
    
    <rect x="20" y="60" width="740" height="260" fill="#0d1117" rx="8" stroke="#30363d"/>
    <text x="40" y="90" fill="#8b949e" font-family="'Cascadia Code','Fira Code',monospace" font-size="13">const cache = new WeakMap();</text>
    <text x="40" y="115" fill="#8b949e" font-family="'Cascadia Code','Fira Code',monospace" font-size="13"></text>
    <text x="40" y="140" fill="#8b949e" font-family="'Cascadia Code','Fira Code',monospace" font-size="13">const getData = obj =&gt; {</text>
    <text x="60" y="165" fill="#8b949e" font-family="'Cascadia Code','Fira Code',monospace" font-size="13">if (cache.has(obj)) {</text>
    <text x="80" y="190" fill="#8b949e" font-family="'Cascadia Code','Fir Code',monospace" font-size="13">return cache.get(obj); // hit</text>
    <text x="60" y="215" fill="#8b949e" font-family="'Cascadia Code','Fira Code',monospace" font-size="13">}</text>
    <text x="60" y="240" fill="#8b949e" font-family="'Cascadia Code','Fira Code',monospace" font-size="13">const result = expensiveOp(obj);</text>
    <text x="60" y="265" fill="#8b949e" font-family="'Cascadia Code','Fira Code',monospace" font-size="13">cache.set(obj, result);</text>
    <text x="60" y="290" fill="#8b949e" font-family="'Cascadia Code','Fira Code',monospace" font-size="13">return result;</text>
    <text x="40" y="315" fill="#8b949e" font-family="'Cascadia Code','Fira Code',monospace" font-size="13">};</text>
  </g>

  <g transform="translate(60,490)">
    <rect width="780" height="40" fill="#161b22" rx="8" stroke="#30363d"/>
    <text x="20" y="28" fill="#c9d1d9" font-family="'Inter','Segoe UI',sans-serif" font-size="14">✅ Sin obj externo → GC limpia entrada automáticamente. Sin memory leaks.</text>
  </g>
</svg>
